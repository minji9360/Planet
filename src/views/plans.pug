extends layouts/main.pug
include mixins/planBlock.pug

block content
    section
        a.prev__btn < 
        .day
            - const order = [ 0, 1, 2, 3, 4, 5, 6 ]
            - const days = [ "일", "월", "화", "수", "목", "금", "토"]
            ol.day__list#slider
                each i in order
                    li.day__item
                        .title
                            .title__date
                                span=thisWeek.date[i]
                                |일 
                                span.day=days[thisWeek.day[i]]
                                |요일
                            .title__description
                                if user.sentence.length==0
                                    p.description 입력창 왼쪽 버튼을 눌러 입력해주세요.
                                else
                                    each item in user.sentence
                                        if thisWeek.year[j]==item.year && thisWeek.month[j]==item.month && thisWeek.date[j]==item.date
                                            p.description=user.sentence.title
                                        else
                                            p.description 입력창 왼쪽 버튼을 눌러 입력해주세요.
                        .todolist-box
                            ul.todolist
                                each item in user.plans
                                    if thisWeek.year[i]==item.year && thisWeek.month[i]==item.month && thisWeek.date[i]==item.date
                                        +planBlock({
                                            id:item._id,
                                            title:item.title,
                                            completed: item.completed
                                        })
                        form.add-form(id="addForm"+i, action=`plans${routes.upload}`, method="post", autocomplete="off") <!--지난 날짜는 보이지 않도록-->
                            if i > 0
                                .add-title(id="titleBox"+i)
                                    a.option__button(type="button", onclick=`slidePlanDetail(${i});`)
                                        img.up__image(id="upImage"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABuElEQVRoge2YsU7CQACGfwo1qQxqKR1M9AUcCFEYiD6Jg4kTgxLdQV8AFFc1+kaQFE1gYnDUEB1MoUc5pyYIBXptL6fJfVNz7fW+j/Y6kKCUJoCvTfxLNj5TADSCtYFolTCoQFoRLREVGSAaGSAaGSAaGSAaGSAaGSAargGdnoVOz+K5BFK8btzpWWg8NEApxcXpJfJ7eS7rcHkCnrxDHJAxQfPpFu3XNo+l4g+YlvfgGRFrgJ+8B6+I2AKWyXvwiIglwOqulveIOyJygNW1cPPoL2/oWRh6dm6cjAnunpuxfGIjBSyTz2wZqJ5VcV25gpkx5847xEH9vh75SYQOWCVfO6/BzJi/jmeJ43UKFRBUftmYR9QI5gBW+SDnokQwBYSVD3JN2AimgNFoCHfizo0benbhZp3F29x+Xyd34sIe2ixKbAGFXBGVkwqSyWQgoUX4BSuKgvJxGaX9EosS+x6Yjgjy2ixieq4nf3hwxHyfBKV0ncD+Zp3Yemlhd3uH6Zf342Pwjv5bH4VckXmuCi0dOuAvoEKTf68LRwaIRgaIRgaIRgaIRgaIRgaIJgXAVuHookXCodk/xs/7eHgWzBAAAAAASUVORK5CYII=")
                                        img.down__image(id="downImage"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABPElEQVRIie2WvU7CUBiGn0OrsfUCMJawuOhFODh5D4I7rRfg4KpXQOxGxOBi/GHVySibzgSMgYnBUWwLQw/WQSEGyk9NuijvdJKT8zw53/fl5AjXb28nCLaIIR+IO1UQbAaC/TgEIghkIg7wz8wF/1ngdTzKt2V86Y897Euf65srHNeJJnA9F7t0zMPjPYXzQqhE9iSnl0UqTxXypTzvTnt2gaIoqKoKwHOzPiKRPUnx4oTqSxWARWUBVVFnF2hLGrmMSXo1PSIZhhtJAytroevLoQLh+W+HCA7CNrvdDvaZTeu1BcD62gYA9UYNgNRKCitroWl6KJyAo4lTpGk61u7e4Cb1Rm0AN5IGZsYcD//O1DEdLlcfPqkskQTDkihwgPDWj5Ps5L7WU8ryK0FUcD9/+C2aC/oRcX9bPgF+W3wwgGZDMQAAAABJRU5ErkJggg==")
                                    input.add-title__input(type="text", id="titleInput"+i, name="title", placeholder="할 일", required)
                                    button.add-title__button 추가
                                .add-detail(id="detailBox"+i)
                                    textarea.add-detail__input(id="contentInput"+i, name="content", placeholder="상세 내용을 입력해주세요.")
                                    button.add-detail__button.hidden(id="contentButton"+i) 추가
                                    .detail-buttons
                                        label(for="important"+i, id="importantLabel"+i, onclick=`toggleImportant(${i});`)
                                            img.gray__button(id="grayLabel"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACMUlEQVRIie2WP2/TQBjGf6/tkoXOoDREIBBjFn8IBJVoOjGAkAiJlQ0mRv59iCiJowqpWSvUNv0QDPGAWLpUlVpFsFXtCn4ZYgnLtc+XCMHSR7Js6x49v3vv7LuDK/0jia0xCIK6iGwA66p6G6glTacicqyqE8/zdnu93slfAXe73bU4jt8CLwG3xB4DO47jvOn3+8dLg4MgaALbwPWyDmZ0oarPwjDcKzIUVtDpdF6JyBZQWRAKUBGRJ77vn02n0y95htyKk0p3AGcJaFqxqm7mVX4puN1u15gPbyFURKbD4VCGw6GIyNQAdkRk3Gq1qqVgx3E+UjKnqrqSer5m8gKrnud9MIKDIKgDz0uCANKwlULXH71IRjIfDDQp/2Wy4LKKAVzHcTZM4IcWIcuAUdVHJvA9S3B6eK3AInLXBL5pCV50jgHWTGBbLVwx8+W0EDyzDFl4jrPZXqbxCLhvAw6CQC2BAKjqUfo9W/HBImGLSEQmhWDP83aBX5ZZ35PLRj/jON4vBPd6vRNV/WQR9LVard4C6sA3C//WaDQ6LQQDuK77DrgoCZLZbGZ7ejkH3l8KyHN2Op3HIvI5r2Mp/UjuNwyeWESag8FgP9uQuy5HUXTo+/4Z8KCoc8x3MNMuFovI68FgsJ3XaByupPIxsGry5ehcVZ+GYTgpMhh3oiiKDhuNxsh13QrgU77SxcAYaIZhGJmM1sfbdrtdS7a2deAOqeNtsjgcqOpe9uu90n/Xb7Sqn2YVBSnpAAAAAElFTkSuQmCC")
                                            img.color__button.hidden(id="colorLabel"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAACMUlEQVRIie2WTWsTURSGnzPTFKIJLiPJJCgVce8vaCoULZi4VgRx78fGpV8/wR8gQrsNpWm6aW3zC7oR1yGQNOhOOoFsMve4aILpdD5uguimLwzMZd55n3Pu3Jm5cKl/JLE1HhSzFcdxawobAjdAvUlEX6Er0BqbYGd9MOr9FfChly0p7luB54CbYjcIDcdderPa/dVdGPy1nK+L6iaQSyswJF9EnlR7fjPO4MRCvasvRbWxABQgr6rbR17uRZwhsuNJp42kwixlRORRVOcXgtulrDeZ3gSoHK/1h7LWHwrIcQLYUdWt/fKVYirY4HwkdXo1M3O+nOwl76rzIRF8UMxWEHmaEgQwC8vEuv7oWbuU9WLBruPWSX9lwuC0jgHcwHFrsWCQ+xYhi4ARlQexYEVvWWH13PRagUFXYsHAdasMmfsZA5SSwLaaZ1VPZZLAA8uQGZjYgs9lL80OBOkoetsGfOjl1BI4Te/MjsKLa2++sHm42ooFj02wAwSWUT8mh43Gjgl2Y8Hrg1FP0C8WQd+c/rB8rTCsAN/TzAqfV09G/Vjwmcm8A/yULMnftd69nC675v2FgCjnUTn/UFW3owqbqfDnJKGQADUYqa8N/N3whcjgas9vCrwm9O6FSi6kQuFVFPTs9gRNOt8C8km+CJ2qyuN7J34rzpD45ar2/GZmzIrCJ2BsATQgmxnX3EmCwhzb23Yp6wWOWxOVDdCbwPT/2gfpiOiemKAZXr2X+u/6DQSXs23GS0N3AAAAAElFTkSuQmCC")
                                            | 중요
                                        a.sentence__button(type="button", id="sentenceButton"+i, onclick=`toggleSentence(${i});`)
                                            img.gray__button(id="grayButton"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAACb0lEQVRoge2YP4gTQRTGv7fZS7DxcnCHJLVdmuuthFO00mavODi5JGQgRUC0EWy2sVTEJmGSkMODg2NtrGwOrcRKsInYWijICSlEIUt2xsKoG/JnZjfRDWR+3bJv3nzfvjdvYQCDYbUhnaBSqZS3bfsRgOsAzv9bSfhGRC+I6E6j0fikClYaKJfLF1Op1BsAmwuRp89Xy7K2VSYsVRbbth/g/4sHgE0hxENVkNKAlHJnMXpicU0VYGskGen5fD6/5rruILYkBYwxGXpcV8UrK7DsGANJYwwkzUoYGPlbd7tdOS0wCVaiAkuNMZA0xkDSRB6jy0bkChQKBfMfWCTGQNIYA0mzemPUdV0zRhfJ6hlwXVf7TDDGcoyxXNQ9oqBzMzeC6gzUarWM7/tXpZT7AG4CSDHGXhLRkZTyGef8R1yxk4hsYBqVSqUAYL/f75cxfhm8M7xjfcIYOwFwxDl/DWDugaBjYGrLMMZyUspdIjoAsK2Rax0A+7WUfQBwEgRBp91uf9STG0FcSOTIV/J9/1wmk7kSapG1uJsPEQD+tBiA7+GXnPOZGnUqIBEymk6nP0spNxRrzojoWAhxCACWZR1IKfcAbE2ItfC3xR5r6BkhTgtNEx8AeAWA93q9557n+aF3tx3HuZvNZi8TEQNwA0B6Qg7VhxljEYf4PRE9DYLgsNVqfZkW5HleAOAUwGm1Wt0QQjhCiFtEdGmezeMa6AHwhBC81Wq9jbq4Xq/3AHAA/Pf0Gg6CC1FzRTEwq0Vi02w2uwDuOY5zX6PFxtAx8E5KeTgYDI47nc7ZPGJnEW6xYrG4Zdv23rAqBoNhBj8BdnrKOKWctfQAAAAASUVORK5CYII=")
                                            img.color__button.hidden(id="colorButton"+i, src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABhUlEQVRoge2ZIUhDURSGv/M2LA6HglqEMcQ0oyaLRkEwrQiKyWZQECYWMQwMKmJbGgbLks0wMJoEk0VQtIngQJyK7r1r0DBk7s7tzSt4vvju4Z7/u+/cdEFR/jfSSFF85Waw4vsbwBTQ1d5IPCAc+YG3+rKTuLQVWwU+w58AvaHEa5x733ijNgnPtksl8LP8fniAnogEWVuRVQDDeChxmmPSVmAXgL4QgjSL9b41IvCnUQHXqIBrVMA1KuAaFXCNCrhGBVyjAq5RAdeogGtUwDUq4BoVcI0KuKZdAiUx5Ix4I2K8YWATuG1Ho2iIe/mIHIsJco9dz4esp16r1jKkzVrnwOUEElkAMw10hNE0DIFzYB/f5Mu7ye9PuSB+GYpAMZ657n57C9IYMyfIWCvNrW9knctXpsbnkhgKgeflnrYSp60EiC1dp4wEs8A80P91vbydrJvxJwL1RqR10iZSa8RsAvYREs6AvLxWDh73hu5CCVuLqhGLLV70mo7oDB9/RVGUOrwDNhlydoMM8KoAAAAASUVORK5CYII=")
                                            | 목표나 명언
                                        input.important__checkbox(id="important"+i, type="checkbox", name="important")
                            else
                                .add-title
                                    button.option__button(type="button", disabled)
                                        img(src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIid2WP0vDQBjGn7vzOxTaD1EQWlBwcNHBqYsuSp1bSLdmcLWgYwumq4Jd/AOlg4gIbhlaOvRDJJC9DmLvzqklqXlziZil75ThuefH++Z5uWPfen6owPeRQ3Gojy0FtscAOw+AAlvwPIzDteEAP/CMBiYNCRi9j9C+asOduuThyWwM+9rG8+tTNoAfeHh8eYBSCv2Bg8lsHGveu+tBSonh25DsJBZQLJRg1S0IISClRPe2G+kkbM45R+O0gWKhlB4AAJVydQVRSsG5v4E7dX+ZN8+a2NnepWzAvvTnJQO7oARhQyEEAKy+rbqFSrlKmmvojjGm4U6klJGxJJkv6897oHU6nRGwPqLlP6HSlQkQl5akdGUCUGmh0pUJ4AdeZCyt81YkiuuQ/sDJvmjHRyeJaQlDagc1ctES98APPPJgGo1xD0zmaTQbfuH8R7G8ny0/AeHRujXjoN0AAAAASUVORK5CYII=")
                                    input.add-title__input(type="text", name="title", placeholder="지난 날짜입니다.", disabled)
                                    button.add-title__button(disabled) 추가
                            input(type="hidden", name="category", value="공부")
                            input(type="hidden", name="year", value=thisWeek.year[i])
                            input(type="hidden", name="month", value=thisWeek.month[i])
                            input(type="hidden", name="date", value=thisWeek.date[i])
        a.next__btn > 
